<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Submenu under Compras Particular -->
    <menuitem id="jewelry_client_purchase_menu"
              name="Purchases"
              parent="jewelry_base.jewelry_menu_root"
              action="jewelry_client_purchase_action"
              sequence="10"/>

    <!-- Action for ready-to-process purchases -->
    <record id="jewelry_client_purchase_ready_action" model="ir.actions.act_window">
        <field name="name">Ready to Process</field>
        <field name="res_model">jewelry.client.purchase</field>
        <field name="view_mode">list,kanban,form</field>
        <field name="domain">[('state', 'in', ['blocked', 'available']), ('can_process', '=', True)]</field>
        <field name="context">{}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No purchases ready to process
            </p>
            <p>Purchases will appear here when their blocking period has ended.</p>
        </field>
    </record>

    <menuitem id="jewelry_client_purchase_ready_menu"
              name="Ready to Process"
              parent="jewelry_base.jewelry_menu_root"
              action="jewelry_client_purchase_ready_action"
              sequence="20"/>
</odoo>
